# =============================================================================
# 28Hub Connect - Environment Configuration
# =============================================================================
# Copy this file to .env and configure with your values
# IMPORTANT: Change all default passwords and secrets in production!
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL Database Configuration
# -----------------------------------------------------------------------------
# Primary database used by all services
# Used for: 28Hub API, Evolution API, n8n, EvoAI

# PostgreSQL admin username
POSTGRES_USER=postgres

# PostgreSQL admin password
# SECURITY: Change this in production!
POSTGRES_PASSWORD=28hub2025

# Default database name
POSTGRES_DB=postgres

# -----------------------------------------------------------------------------
# Evolution API Configuration
# -----------------------------------------------------------------------------
# WhatsApp Business API gateway
# Used for: Sending and receiving WhatsApp messages

# API key for Evolution API authentication
# Used to authenticate requests to Evolution API
EVOLUTION_API_KEY=28hub-enterprise-2025

# Authentication API key for additional security
# Used for webhook authentication
AUTHENTICATION_API_KEY=28hub-enterprise-2025

# PostgreSQL connection string for Evolution API database
# Format: postgresql://user:password@host:port/database
DATABASE_CONNECTION_URI=postgresql://postgres:28hub2025@postgres:5432/evolution_db

# Redis connection URI for caching
# Used for caching sessions and temporary data
CACHE_REDIS_URI=redis://redis:6379

# Base URL for n8n workflow automation
# Used to trigger workflows from Evolution API
N8N_BASE_URL=http://n8n:5678

# API key for n8n authentication
# Used to authenticate requests to n8n
N8N_API_KEY=28hub-enterprise-2025

# -----------------------------------------------------------------------------
# n8n Workflow Automation Configuration
# -----------------------------------------------------------------------------
# Workflow automation platform for complex business processes

# n8n basic authentication username
# Used to access the n8n web interface
N8N_BASIC_AUTH_USER=admin

# n8n basic authentication password
# SECURITY: Change this in production!
N8N_BASIC_AUTH_PASSWORD=28hub2025

# PostgreSQL host for n8n database
# Points to the PostgreSQL container
DB_POSTGRESDB_HOST=postgres

# PostgreSQL port for n8n database
DB_POSTGRESDB_PORT=5432

# n8n database name
# Separate database for n8n workflow data
DB_POSTGRESDB_DATABASE=n8n

# n8n database username
DB_POSTGRESDB_USER=postgres

# n8n database password
DB_POSTGRESDB_PASSWORD=28hub2025

# Redis host for n8n queue
# Used for job queue processing
QUEUE_BULL_REDIS_HOST=redis

# -----------------------------------------------------------------------------
# 28Hub Backend Configuration
# -----------------------------------------------------------------------------
# Main FastAPI backend service

# PostgreSQL connection string for 28Hub API database
# Format: postgresql://user:password@host:port/database
DATABASE_URL=postgresql://postgres:28hub2025@postgres:5432/28hub

# Redis connection URL for caching
# Used for caching and session management
REDIS_URL=redis://redis:6379

# Evolution API key for WhatsApp integration
# Used to authenticate with Evolution API
EVOLUTION_KEY=28hub-enterprise-2025

# n8n URL for workflow integration
# Used to trigger n8n workflows
N8N_URL=http://n8n:5678

# JWT secret for authentication
# Used to sign JWT tokens for tenant authentication
# SECURITY: Use a strong random string in production!
JWT_SECRET=28hub-enterprise-jwt-2025

# Master API key for admin operations
# Used for admin API authentication
# SECURITY: Use a strong random string in production!
API_KEY=28hub-enterprise-2025

# EvoAI backend URL for AI integration
# Used to communicate with EvoAI service
EVOAI_URL=http://evoai-backend:8000

# EvoAI API key for authentication
# Used to authenticate requests to EvoAI
EVOAI_API_KEY=28hub-evoai-integration-2025

# -----------------------------------------------------------------------------
# 28Hub Frontend Configuration
# -----------------------------------------------------------------------------
# Next.js frontend application

# API URL for backend communication
# Used by frontend to communicate with 28Hub API
# NOTE: Use localhost for local development, actual domain for production
NEXT_PUBLIC_API_URL=http://localhost:8000

# EvoAI URL for AI features
# Used by frontend to communicate with EvoAI
# NOTE: Use localhost for local development, actual domain for production
NEXT_PUBLIC_EVOAI_URL=http://evoai-backend:8000

# -----------------------------------------------------------------------------
# EvoAI Configuration
# -----------------------------------------------------------------------------
# AI agents and processing service

# PostgreSQL connection string for EvoAI database
# Format: postgresql://user:password@host:port/database
POSTGRES_CONNECTION_STRING=postgresql://postgres:28hub2025@postgres:5432/evo_ai

# Redis host for caching
# Used for caching AI responses and session data
REDIS_HOST=redis

# JWT secret key for EvoAI authentication
# Used to sign JWT tokens for EvoAI
# SECURITY: Use a strong random string in production!
JWT_SECRET_KEY=28hub-evoai-jwt-2025

# Evolution API key for WhatsApp integration
# Used by EvoAI to send WhatsApp messages
EVOLUTION_API_KEY=28hub-enterprise-2025

# -----------------------------------------------------------------------------
# MinIO Configuration
# -----------------------------------------------------------------------------
# S3-compatible object storage for files and media

# MinIO admin username
# Used to access the MinIO console
MINIO_ROOT_USER=minioadmin

# MinIO admin password
# SECURITY: Change this in production!
MINIO_ROOT_PASSWORD=minioadmin

# -----------------------------------------------------------------------------
# Additional Configuration (Optional)
# -----------------------------------------------------------------------------

# Environment (development, staging, production)
# Used to configure application behavior
ENVIRONMENT=development

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
# Controls verbosity of logging
LOG_LEVEL=INFO

# CORS allowed origins
# Comma-separated list of allowed origins for CORS
# Example: http://localhost:3000,https://yourdomain.com
CORS_ORIGINS=http://localhost:3000

# Timezone
# Used for datetime operations
TZ=America/Sao_Paulo

# -----------------------------------------------------------------------------
# Security Notes
# -----------------------------------------------------------------------------
# IMPORTANT: Before deploying to production:
#
# 1. Change all default passwords:
#    - POSTGRES_PASSWORD
#    - N8N_BASIC_AUTH_PASSWORD
#    - MINIO_ROOT_PASSWORD
#
# 2. Generate strong secrets:
#    - JWT_SECRET
#    - API_KEY
#    - JWT_SECRET_KEY
#    - EVOLUTION_API_KEY
#    - AUTHENTICATION_API_KEY
#    - EVOAI_API_KEY
#
# 3. Update URLs for production:
#    - NEXT_PUBLIC_API_URL
#    - NEXT_PUBLIC_EVOAI_URL
#
# 4. Enable HTTPS in production
#
# 5. Configure firewall rules
#
# 6. Set up monitoring and alerts
#
# 7. Implement regular database backups
#
# Generate secure passwords/secrets with:
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
#   openssl rand -base64 32
# -----------------------------------------------------------------------------
